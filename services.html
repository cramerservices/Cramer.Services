<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>All Services — Cramer Services</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
  :root{--bg:#f8f9fb;--card:#fff;--accent:#0d6efd;--text:#1b1f24;--muted:#6c757d;--ring:0 0 0 3px rgba(13,110,253,.25)}
  *{box-sizing:border-box}
  body{margin:0;font-family:Poppins,Arial,sans-serif;background:var(--bg);color:var(--text)}
  .container{max-width:1100px;margin:auto;padding:1rem}
  .cta{background:var(--accent);color:#fff;font-weight:600;padding:.65rem 1rem;border:0;border-radius:6px;cursor:pointer;text-decoration:none}
  .header-bar{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}
  .header-bar h1{margin:0}
  .muted{color:var(--muted)}

  /* Tiles same look as your index */
  .services-tiles{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem;margin-top:1rem;margin-bottom:2rem}
  .service-tile{background:transparent;border:0;padding:0}
  .service-tile h3{margin:.2rem 0 .6rem}
  .service-imgwrap{position:relative;border-radius:12px;overflow:hidden;height:200px;margin-bottom:.5rem}
  .service-imgwrap img,.service-imgwrap video{width:100%;height:100%;object-fit:cover;display:block;border-radius:12px}
  .service-overlay{position:absolute;inset:0;background:rgba(0,0,0,.55);color:#fff;opacity:0;transition:opacity .2s;display:flex;align-items:center;justify-content:center;text-align:center;padding:1rem}
  .service-imgwrap:hover .service-overlay{opacity:1}
</style>
</head>
<body>
  <main class="container">
    <div class="header-bar">
      <h1>All Services</h1>
      <a class="cta" href="index.html#contact">Contact Us</a>
    </div>

    <p class="muted">Browse and select a service to view details and book.</p>
    <p style="font-weight:600; margin:.5rem 0 1rem; color:var(--text);">
      Can’t find your service listed below? Reach out through our
      <a href="index.html#contact" style="color:var(--accent); font-weight:600;">Contact Us</a> button.
    </p>

    <div id="servicesGrid" class="services-tiles"></div>

    <a class="cta" href="index.html">Back to Home</a>
  </main>

<script>
(async function(){
  const grid = document.getElementById('servicesGrid');

  const res = await fetch('data/services.json', {cache:'no-cache'});
  if(!res.ok){ grid.innerHTML = '<p class="muted">Could not load services.</p>'; return; }
  const services = await res.json();

  const makeTile = (svc) => {
    const a = document.createElement('a');
    a.className = 'service-imgwrap';
    a.href = `service.html?slug=${encodeURIComponent(svc.slug)}`;

    const isVideo = /\.(mp4|mov|webm)$/i.test(svc.image || '');
    let media;
    if (isVideo) {
      media = document.createElement('video');
      media.src = svc.image;
      media.muted = true;
      media.loop = true;
      media.playsInline = true;
      media.autoplay = true;
      media.onloadedmetadata = () => { try { media.playbackRate = 0.3; } catch(e){} };
    } else {
      media = document.createElement('img');
      media.src = svc.image;
      media.alt = svc.name || 'Service';
      media.loading = 'lazy';
    }
    a.appendChild(media);

    const overlay = document.createElement('div');
    overlay.className = 'service-overlay';
    overlay.textContent = svc.description || '';
    a.appendChild(overlay);

    const art = document.createElement('article');
    art.className = 'service-tile';
    const h3 = document.createElement('h3');
    h3.textContent = svc.name || '';
    art.appendChild(h3);
    art.appendChild(a);

    return art;
  };

  services.forEach(svc => grid.appendChild(makeTile(svc)));
})();
</script>
</body>
</html>
